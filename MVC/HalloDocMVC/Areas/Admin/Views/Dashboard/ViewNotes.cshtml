@using HalloDocService.ViewModels;
@model ViewNotesViewModel;
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    ViewData["Title"] = "ViewNotes Page";
    Layout = "~/Views/Shared/_AdminDashboard.cshtml";
}
<style>
    .card {
        height: 100%;
    }

    .card .content-div {
        width: 90%;
    }
</style>

<main class="patient-request-section container-sm mt-sm-5">
    <div class="d-flex justify-content-end mt-4">
        <a asp-area="Admin" asp-controller="Dashboard" asp-action="Index" class="btn btn-sm back-link"><i class="fa-solid fa-chevron-left"></i> Back</a>
    </div>

    <h1>Notes</h1>
    <div class="row g-4">
        @if(Model != null && Model.TransferNote != null && Model.TransferNote.Count > 0){
            <div class="col-sm-6">
                <div class="card shadow">
                    <div class="card-body d-flex gap-3">
                        <div class="icon-div m-auto d-sm-inline d-none" style="width: 10%;">
                            <span style="font-size: 2rem;">
                                <i class="fa-solid fa-arrow-right-arrow-left"></i>
                            </span>
                        </div>
                        <div class="content-div">
                            <h5 class="card-title fw-bold">Transfer Notes</h5>
                             @{
                                    int index = 1;
                                    foreach (var item in Model.TransferNote){
                                        <p class="card-text" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">@{var notes = index +". " + item;} @notes</p>
                                        index++;
                                    }
                                }
                        </div>
                    </div>
                </div>
            </div>
        }
        @if(Model != null && !string.IsNullOrEmpty(Model.PhysicianNote)){
            <div class="col-sm-6">
                <div class="card shadow">
                    <div class="card-body d-flex gap-3">
                        <div class="icon-div m-auto d-sm-inline d-none" style="width: 10%;">
                            <span style="font-size: 2rem;">
                                <i class="fa-solid fa-user-doctor"></i>
                            </span>
                        </div>
                        <div class="content-div">
                            <h5 class="card-title fw-bold">Physician Notes</h5>
                            <p class="card-text">@Model.PhysicianNote</p>
                        </div>
                    </div>
                </div>
            </div>
        }
        @if(Model != null && !string.IsNullOrEmpty(Model.AdminNote)){
            <div class="col-sm-6">
                <div class="card shadow">
                    <div class="card-body d-flex gap-3">
                        <div class="icon-div m-auto d-sm-inline d-none" style="width: 10%;">
                            <span style="font-size: 2rem;">
                                <i class="fa-solid fa-user-tie"></i>
                            </span>
                        </div>
                        <div class="content-div">
                            <h5 class="card-title fw-bold">Admin Notes</h5>
                             <p class="card-text">@Model.AdminNote</p>
                             
                        </div>
                    </div>
                </div>
            </div>
        }
        @if(Model != null && !string.IsNullOrEmpty(Model.PatientNote)){
            <div class="col-sm-6">
                <div class="card shadow">
                    <div class="card-body d-flex gap-3">
                        <div class="icon-div m-auto d-sm-inline d-none" style="width: 10%;">
                            <span style="font-size: 2rem;">
                                <i class="fa-solid fa-user"></i>
                            </span>
                        </div>
                        <div class="content-div">
                            <h5 class="card-title fw-bold">Patient Notes</h5>
                            <p class="card-text">@Model.PatientNote</p>
                        </div>
                    </div>
                </div>
            </div>
        }
        @if(Model != null && !string.IsNullOrEmpty(Model.PhysicianCancelNote)){
            <div class="col-sm-6">
                <div class="card shadow">
                    <div class="card-body d-flex gap-3">
                        <div class="icon-div m-auto d-sm-inline d-none" style="width: 10%;">
                            <span style="font-size: 2rem;">
                                <i class="fa-solid fa-user-xmark"></i>
                            </span>
                        </div>
                        
                            <div class="content-div">
                                <h5 class="card-title fw-bold">Physician Cancellation Notes</h5>
                                <p class="card-text">@Model.PhysicianCancelNote</p>
                            </div>
                    </div>
                </div>
            </div>
        }
        @if(Model != null && !string.IsNullOrEmpty(Model.AdminCancelNote)){
            <div class="col-sm-6">
                <div class="card shadow">
                    <div class="card-body d-flex gap-3">
                        <div class="icon-div m-auto d-sm-inline d-none" style="width: 10%;">
                            <span style="font-size: 2rem;">
                                <i class="fa-solid fa-ban"></i>
                            </span>
                        </div>
                        <div class="content-div">
                            <h5 class="card-title fw-bold">Admin Cancellation Notes</h5>
                            <p class="card-text">@Model.AdminCancelNote</p>
                        </div>
                    </div>
                </div>
            </div>
        }
        @if(Model != null && !string.IsNullOrEmpty(Model.PatientCancelNote)){
            <div class="col-sm-6">
                <div class="card shadow">
                    <div class="card-body d-flex gap-3">
                        <div class="icon-div m-auto d-sm-inline d-none" style="width: 10%;">
                            <span style="font-size: 2rem;">
                                <i class="fa-solid fa-xmark"></i>
                            </span>
                        </div>
                        <div class="content-div">
                            <h5 class="card-title fw-bold">Patient Cancellation Notes</h5>
                            <p class="card-text">@Model.PatientCancelNote</p>
                        </div>
                    </div>
                </div>
            </div>
        }
        
        
    </div>
    <div class="mt-4 p-4 shadow">
        <form action="/Admin/Dashboard/SaveViewNotes" method="post">
            <div>
                <input type="hidden" asp-for="@Model.NoteId" />
                <input type="hidden" asp-for="@Model.ReqId" >
                <div class="form-floating">
                    <textarea asp-for="AdditionalNote" class="form-control" placeholder="Enter Additional Note"
                        id="additionalNote" style="height: 100px"></textarea>
                    <label asp-for="AdditionalNote" for="additionalNote">Additional Note</label>
                </div>
                <span class="text-danger"></span>
            </div>
            <div class="d-flex justify-content-end mt-4">
                <button type="submit" class="btn secondary-theme-btn">Save Changes</button>
            </div>
        </form>

    </div>
</main>

<script>
    $("#adminDashTab li").each(function(){
        if($(this).data("id")==1){
            $("#adminDashTab li a").removeClass("active");
            $(this).addClass("active").find("a").addClass("active");
        }
    })
</script>