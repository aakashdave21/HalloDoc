@{
    int NoOfDays = ViewBag.NoOfDays;
    int lastDayOfMonth = ViewBag.lastDayOfMonth;
    Console.WriteLine(NoOfDays);
    Console.WriteLine(lastDayOfMonth);
    Console.WriteLine("----------------------------------------------------------------");
}

<style>
    .month-coverage .day {
        background-color: #ffacf5 !important;
    }

    .month-table table th,
    .month-table table td {
        white-space: nowrap;
        min-width: 150px;
    }

    .month-table .active-provider td {
        background-color: #9f9f9f !important;
        color: white;
        min-width: 220px;
    }
</style>
<div class="table-responsive d-flex month-table">
    <table class="table table-bordered">
        <thead>
            <tr class="main-head">
                <th scope="col">Sun</th>
                <th scope="col">Mon</th>
                <th scope="col">Tue</th>
                <th scope="col">Wed</th>
                <th scope="col">Thu</th>
                <th scope="col">Fri</th>
                <th scope="col">Sat</th>
            </tr>
        </thead>
        @* <tbody id="month-table-body">
        </tbody> *@
        @* <tbody>
            @for (int i = 0; i < 6; i++)
            {
                <tr class="month-coverage">
                    @for (int j = 0; j < 7; j++)
                    {
                        var day = (i * 7 + j + 1 - NoOfDays);
                        if (day >= 1 && day <= lastDayOfMonth)
                        {
                            <td scope="col" class="day">@day</td>
                        }
                        else
                        {
                            <td scope="col"></td>
                        }
                    }
                </tr>

                for (int k = 0; k < 5; k++)
                {
                    <tr>

                        @for (int l = 0; l < 7; l++)
                        {
                            
                            var day = (i * 7 + l + 1 - NoOfDays);
                            if (day >= 1 && day <= lastDayOfMonth)
                            {
                                string EmptyString = "";
                                @foreach (var shift in Model.AllShiftList){
                                    DateTime date = DateTime.ParseExact(shift.StartDate,"yyyy-MM-dd", System.Globalization.CultureInfo.InvariantCulture);
                                    string dayString = date.ToString("dd");
                                    int dayOfWeekNumeric = int.Parse(dayString);
                                    if(dayOfWeekNumeric==day){
                                        EmptyString += shift.ShiftDetailId.ToString();
                                    }
                                }
                                <td>@day @EmptyString</td>
                            }
                            else
                            {
                                <td scope="col"></td>
                            }
                        }
                    </tr>
                }
            }
        </tbody> *@
        <tbody>
            @for (int i = 0; i < 6; i++)
            {
                <tr class="month-coverage">
                    @for (int j = 0; j < 7; j++)
                    {
                        var day = (i * 7 + j + 1 - NoOfDays);
                        if (day >= 1 && day <= lastDayOfMonth)
                        {
                            <td scope="col" class="day">@day</td>
                        }
                        else
                        {
                            <td scope="col"></td>
                        }
                    }
                </tr>
                <tr>
                    @for (int l = 0; l < 7; l++)
                    {
                        var day = (i * 7 + l + 1 - NoOfDays);
                        if (day >= 1 && day <= lastDayOfMonth)
                        {
                            string EmptyString = "";
                            foreach (var shift in Model.AllShiftList)
                            {
                                DateTime date = DateTime.ParseExact(shift.StartDate, "yyyy-MM-dd", System.Globalization.CultureInfo.InvariantCulture);
                                if (date.Day == day)
                                {
                                    EmptyString += shift.ShiftDetailId.ToString() + "<br>";
                                }
                            }
                            <td>@Html.Raw(EmptyString)</td>
                        }
                        else
                        {
                            <td scope="col"></td>
                        }
                    }
                </tr>
            }
        </tbody>
    </table>
</div>

